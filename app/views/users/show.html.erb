<h1>Users#show</h1>
<div style='width: 800px;'>
   <div id="directions" style='width: 800px; height: 400px;'></div>
 </div>

<script type="text/javascript">

function(){
if(navigator.geolocation)
 navigator.geolocation.getCurrentPosition(displayOnMap);
 var lt = lat
 var ln = lng

 function displayOnMap(position){
   console.log(position)
    lat: position.coords.latitude,
    lng: position.coords.longitude

   });
}
 var directionsDisplay = new google.maps.DirectionsRenderer();
 var directionsService = new google.maps.DirectionsService();

 function calcRoute(){
   var origin      = new google.maps.LatLng(lt, ln);
    var destination = new google.maps.LatLng(29.7604, -95.3698);
    var request = {
        origin:      origin,
        destination: destination,
        travelMode:  google.maps.TravelMode.DRIVING
    };
    directionsService.route(request, function(response, status) {
      if (status == google.maps.DirectionsStatus.OK) {
        directionsDisplay.setDirections(response);
      }
    });
  }

  calcRoute();

  var handler = Gmaps.build('Google');
  handler.buildMap({ internal: {id: 'directions'}}, function(){
    directionsDisplay.setMap(handler.getMap());
  });




</script>
