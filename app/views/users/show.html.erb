
<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="#"><strong>TowBuddy</strong></a>
    </div>
    <div>
      <ul class="nav navbar-nav">
        <li class="active"><a href="/">Home</a></li>
        <li><a href="#"> Hi <%= @current_user.first_name %></a></li>
        <li> <%= link_to 'get towed', show_path %> </li>
        <li><%= link_to 'Sign Out', sign_out_path, method: :post %></li>
<li>
        <div class="by-zip">

          <input type="txt" name="name" value="" placeholder="enter zip"/>
          <button type="submit" name="button">search</button>
        </div>
</li>

      </ul>
    </div>
  </div>
</nav>


   <div id="directions" style='width: 100%; height: 400px;'></div>


<script type="text/javascript">

// function(){
if(navigator.geolocation)
 navigator.geolocation.getCurrentPosition(displayOnMap);
//  var lt = lat
//  var ln = lng
//
 function displayOnMap(position){

    lat = position.coords.latitude
    lng = position.coords.longitude

console.log(position.coords.latitude, position.coords.longitude)

   };
// }
 var directionsDisplay = new google.maps.DirectionsRenderer();
 var directionsService = new google.maps.DirectionsService();

 function calcRoute(){
   var origin      = new google.maps.LatLng(29.6850, -95.4078);
    var destination = new google.maps.LatLng(29.735310699999996, -95.390442);
    var request = {
        origin:      origin,
        destination: destination,
        travelMode:  google.maps.TravelMode.DRIVING
    };
    directionsService.route(request, function(response, status) {
      if (status == google.maps.DirectionsStatus.OK) {
        directionsDisplay.setDirections(response);
      }
    });
  }

  calcRoute();

  var handler = Gmaps.build('Google');
  handler.buildMap({ internal: {id: 'directions'}}, function(){
    directionsDisplay.setMap(handler.getMap());
  });




</script>
